{"ast":null,"code":"import _defineProperty from \"/Users/ckidd/Documents/gitgit/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/ckidd/Documents/gitgit/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/ckidd/Documents/gitgit/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/ckidd/Documents/gitgit/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/ckidd/Documents/gitgit/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/ckidd/Documents/gitgit/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/ckidd/Documents/gitgit/guidr-FE/guidr/src/components/GatedContent/UpdateProfile.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport GatedContentNav from \"./GatedContentNav\";\n\nvar UpdateProfile =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(UpdateProfile, _Component);\n\n  function UpdateProfile() {\n    var _this;\n\n    _classCallCheck(this, UpdateProfile);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(UpdateProfile).call(this));\n\n    _this.updateUser = function (updatedUser) {\n      console.log(updatedUser);\n      var id = _this.state.user.id;\n      axios.put(\"https://ls-guidr.herokuapp.com/api/profile/\".concat(id), updatedUser).then(function (res) {\n        var user = res.data;\n\n        _this.setState({\n          user: user\n        });\n\n        console.log(\"success!\"); // redirect\n        // this.props.history.push(`/profile/`);\n      }).catch(function (err) {\n        console.log(err);\n      });\n    };\n\n    _this.handleChange = function (e) {\n      e.preventDefault();\n      console.log(e.target.value);\n\n      _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    };\n\n    _this.onSubmitEditedUser = function (e) {\n      e.preventDefault();\n\n      _this.updateUser(_this.state.user);\n    };\n\n    _this.state = {\n      user: []\n    };\n    return _this;\n  }\n\n  _createClass(UpdateProfile, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var endpoint = \"https://ls-guidr.herokuapp.com/api/profile\";\n      axios.get(endpoint).then(function (response) {\n        _this2.setState({\n          name: \"\".concat(response.data[0].first_name, \" \").concat(response.data[0].last_name),\n          age: response.data[0].age,\n          certs: response.data[0].certs,\n          profile_text: response.data[0].profile_text,\n          years_of_exp: response.data[0].years_of_exp\n        });\n      }).catch(function (error) {\n        console.error(\"ERROR\", error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"Update Profile\"), React.createElement(\"form\", {\n        className: \"form\",\n        onSubmit: this.onSubmitEditedUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        name: \"name\",\n        placeholder: \"username\",\n        onChange: this.handleChange,\n        value: this.state.name,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"age\",\n        placeholder: \"age\",\n        onChange: this.handleChange,\n        value: this.state.age,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"certs\",\n        placeholder: \"certs\",\n        onChange: this.handleChange,\n        value: this.state.certs,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"profile_text\",\n        placeholder: \"Brief Description\",\n        onChange: this.handleChange,\n        value: this.state.profile_text,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"years_of_exp\",\n        placeholder: \"Years of Experience\",\n        onChange: this.handleChange,\n        value: this.state.years_of_exp,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        onClick: this.updateProfile,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, \"Update Profile\"))));\n    }\n  }]);\n\n  return UpdateProfile;\n}(Component);\n\nexport default UpdateProfile;","map":{"version":3,"sources":["/Users/ckidd/Documents/gitgit/guidr-FE/guidr/src/components/GatedContent/UpdateProfile.js"],"names":["React","Component","axios","GatedContentNav","UpdateProfile","updateUser","updatedUser","console","log","id","state","user","put","then","res","data","setState","catch","err","handleChange","e","preventDefault","target","value","name","onSubmitEditedUser","endpoint","get","response","first_name","last_name","age","certs","profile_text","years_of_exp","error","updateProfile"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport GatedContentNav from \"./GatedContentNav\";\n\nclass UpdateProfile extends Component {\n  constructor() {\n    super();\n    this.state = {\n      user: [],\n    };\n  }\n\n\n\n  componentDidMount() {\n    const endpoint = \"https://ls-guidr.herokuapp.com/api/profile\";\n    axios\n      .get(endpoint)\n      .then(response => {\n        this.setState({\n          name: `${response.data[0].first_name} ${response.data[0].last_name}`, age: response.data[0].age, \n          certs: response.data[0].certs, profile_text: response.data[0].profile_text,\n          years_of_exp: response.data[0].years_of_exp\n        \n        });\n        \n      })\n      .catch(error => {\n        console.error(\"ERROR\", error);\n      });\n  }\n\n  updateUser = updatedUser => {\n    console.log(updatedUser);\n   const id = this.state.user.id\n    axios\n      .put( \n        `https://ls-guidr.herokuapp.com/api/profile/${id}`,\n        updatedUser\n      )\n      .then(res => {\n        const user = res.data;\n        this.setState({ \n          user\n        });\n        console.log(\"success!\");\n\n        // redirect\n        // this.props.history.push(`/profile/`);\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  };\n\n  handleChange = e => {\n    e.preventDefault();console.log(e.target.value)\n    \n    this.setState({[e.target.name]: e.target.value});\n  };\n\n  onSubmitEditedUser = e => {\n    e.preventDefault();\n    this.updateUser(this.state.user);\n  };\n\n  render() {\n    return (\n      <div>\n        <div className=\"form-container\">\n          <h2>Update Profile</h2>\n          <form className=\"form\" onSubmit={this.onSubmitEditedUser}>\n          <input\n              name=\"name\"\n              placeholder=\"username\"\n              onChange={this.handleChange}\n              value={this.state.name}\n            />\n            <input\n              type=\"text\"\n              name=\"age\"\n              placeholder=\"age\"\n              onChange={this.handleChange}\n              value={this.state.age}\n            />\n            <input\n              type=\"text\"\n              name=\"certs\"\n              placeholder=\"certs\"\n              onChange={this.handleChange}\n              value={this.state.certs}\n            />\n            <input\n              type=\"text\"\n              name=\"profile_text\"\n              placeholder=\"Brief Description\"\n              onChange={this.handleChange}\n              value={this.state.profile_text}\n            />\n            <input\n              type=\"text\"\n              name=\"years_of_exp\"\n              placeholder=\"Years of Experience\"\n              onChange={this.handleChange}\n              value={this.state.years_of_exp}\n            />\n           <button onClick={this.updateProfile}>Update Profile</button>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default UpdateProfile;"]},"metadata":{},"sourceType":"module"}