{"ast":null,"code":"import _classCallCheck from \"/Users/trishnaamin/Lambda School/week-10/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/trishnaamin/Lambda School/week-10/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/trishnaamin/Lambda School/week-10/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/trishnaamin/Lambda School/week-10/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Users/trishnaamin/Lambda School/week-10/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/trishnaamin/Lambda School/week-10/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/trishnaamin/Lambda School/week-10/guidr-FE/guidr/src/components/GatedContent/Trip.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport GatedContentNav from \"./GatedContentNav\";\n\nvar Trip =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Trip, _Component);\n\n  function Trip() {\n    var _this;\n\n    _classCallCheck(this, Trip);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Trip).call(this));\n\n    _this.updateTrip = function (updatedTrip) {\n      axios.put(\"https://ls-guidr.herokuapp.com/api/trips/\".concat(updatedTrip.id), updatedTrip).then(function (res) {\n        _this.setState({\n          trips: res.data\n        });\n\n        console.log(res); // redirect\n\n        _this.props.history.push(\"/trips/\".concat(updatedTrip.id));\n      }).catch(function (err) {\n        console.log(err);\n      });\n    };\n\n    _this.state = {\n      trips: [],\n      activeTrip: []\n    };\n    console.log(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Trip, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var endpoint = \"https://ls-guidr.herokuapp.com/api/trips\";\n      axios.get(endpoint).then(function (res) {\n        _this2.setState({\n          trips: res.data\n        });\n      }).catch(function (error) {\n        console.error(\"USERS ERROR\", error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      console.log(this.state.trips);\n      this.trip = this.state.trips.find(function (trip) {\n        return \"\".concat(trip.id) === _this3.props.match.params.id;\n      });\n      if (!this.trip) return React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, \"Loading data...\");\n\n      this.setActiveTrip = function (trip) {\n        _this3.setState({\n          activeTrip: trip\n        });\n      };\n\n      this.updateTrip = function (e) {\n        e.preventDefault();\n\n        _this3.setActiveTrip(_this3.trip);\n\n        _this3.props.history.push(\"/edit-trip/\".concat(_this3.trip.id));\n      };\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(GatedContentNav, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      })), React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, this.trip.title), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, this.trip.description), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, this.trip.date), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, this.trip.duration), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, this.trip.location), React.createElement(\"button\", {\n        onClick: this.updateTrip,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, \"Update Trip\")));\n    }\n  }]);\n\n  return Trip;\n}(Component);\n\nexport { Trip as default };","map":{"version":3,"sources":["/Users/trishnaamin/Lambda School/week-10/guidr-FE/guidr/src/components/GatedContent/Trip.js"],"names":["React","Component","axios","Link","GatedContentNav","Trip","updateTrip","updatedTrip","put","id","then","res","setState","trips","data","console","log","props","history","push","catch","err","state","activeTrip","endpoint","get","error","trip","find","match","params","setActiveTrip","e","preventDefault","title","description","date","duration","location"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport GatedContentNav from \"./GatedContentNav\";\n\nexport default class Trip extends Component {\n  constructor() {\n    super();\n    this.state = {\n      trips: [],\n      activeTrip: []\n    };\n    console.log(this);\n  }\n\n  componentDidMount() {\n    const endpoint = \"https://ls-guidr.herokuapp.com/api/trips\";\n    axios\n      .get(endpoint)\n      .then(res => {\n        this.setState({ trips: res.data });\n      })\n      .catch(error => {\n        console.error(\"USERS ERROR\", error);\n      });\n  }\n\n  updateTrip = updatedTrip => {\n    axios\n      .put(\n        `https://ls-guidr.herokuapp.com/api/trips/${updatedTrip.id}`,\n        updatedTrip\n      )\n      .then(res => {\n        this.setState({ trips: res.data });\n        console.log(res);\n        // redirect\n        this.props.history.push(`/trips/${updatedTrip.id}`);\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  };\n\n  render() {\n    console.log(this.state.trips);\n    this.trip = this.state.trips.find(\n      trip => `${trip.id}` === this.props.match.params.id\n    );\n    if (!this.trip) return <h3>Loading data...</h3>;\n\n    this.setActiveTrip = trip => {\n      this.setState({ activeTrip: trip });\n    };\n\n    this.updateTrip = e => {\n      e.preventDefault();\n      this.setActiveTrip(this.trip);\n      this.props.history.push(`/edit-trip/${this.trip.id}`);\n    };\n    return (\n      <div>\n        <div>\n          <GatedContentNav />\n        </div>\n        <h1>{this.trip.title}</h1>\n        <div>\n          <p>{this.trip.description}</p>\n          <p>{this.trip.date}</p>\n          <p>{this.trip.duration}</p>\n          <p>{this.trip.location}</p>\n          <button onClick={this.updateTrip}>Update Trip</button>\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}