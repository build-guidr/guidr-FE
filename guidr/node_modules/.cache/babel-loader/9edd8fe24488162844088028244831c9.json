{"ast":null,"code":"import _classCallCheck from \"/Users/trishnaamin/Lambda School/week-10/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/trishnaamin/Lambda School/week-10/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/trishnaamin/Lambda School/week-10/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/trishnaamin/Lambda School/week-10/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Users/trishnaamin/Lambda School/week-10/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/trishnaamin/Lambda School/week-10/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/trishnaamin/Lambda School/week-10/guidr-FE/guidr/src/components/GatedContent/Trip.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport GatedContentNav from \"./GatedContentNav\";\n\nvar Trip =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Trip, _Component);\n\n  function Trip() {\n    var _this;\n\n    _classCallCheck(this, Trip);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Trip).call(this));\n\n    _this.updateTrip = function (updatedTrip) {\n      axios.put(\"https://ls-guidr.herokuapp.com/api/trips/\".concat(updatedTrip.id), updatedTrip).then(function (res) {\n        _this.setState({\n          trips: res.data\n        });\n\n        console.log(res); // redirect\n\n        _this.props.history.push(\"/trips/\".concat(updatedTrip.id));\n      }).catch(function (err) {\n        console.log(err);\n      });\n    };\n\n    _this.deleteTrips = function (id) {\n      axios.delete(\"https://ls-guidr.herokuapp.com/api/trips/\".concat(id)).then(function (res) {\n        _this.setState({\n          trips: res.data\n        });\n\n        console.log(res); // redirect\n\n        _this.props.history.push(\"/my-trips\");\n      }).catch(function (err) {\n        console.log(err);\n      });\n    };\n\n    _this.state = {\n      trips: [],\n      activeTrip: {}\n    };\n    console.log(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Trip, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var endpoint = \"https://ls-guidr.herokuapp.com/api/trips\";\n      axios.get(endpoint).then(function (res) {\n        _this2.setState({\n          trips: res.data\n        });\n      }).catch(function (error) {\n        console.error(\"USERS ERROR\", error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      // console.log(\"All mah trips: \", this.state.trips);\n      this.trip = this.state.trips.find(function (trip) {\n        return \"\".concat(trip.id) === _this3.props.match.params.id;\n      });\n      if (!this.trip) return React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, \"Loading data...\"); // console.log(this.trip);\n\n      this.setActiveTrip = function (trip) {\n        _this3.setState({\n          activeTrip: trip\n        });\n      };\n\n      this.updateTrip = function (e) {\n        e.preventDefault();\n\n        _this3.setActiveTrip(_this3.trip);\n\n        _this3.props.history.push(\"/edit-trip/\".concat(_this3.trip.id));\n      };\n\n      this.deleteTrip = function (e) {\n        e.preventDefault();\n\n        _this3.deleteTrips(_this3.trip);\n      };\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(GatedContentNav, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      })), React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, this.trip.title), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, this.trip.description), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, \"Trip Type:\", \" \", \"\".concat(this.trip.professional === 1 ? \"Private\" : \"Professional\")), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, this.trip.date), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, this.trip.duration), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, this.trip.location), React.createElement(\"button\", {\n        onClick: this.updateTrip,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \"Update Trip\"), React.createElement(\"button\", {\n        onClick: this.deleteTrip,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"Delete Trip\")));\n    }\n  }]);\n\n  return Trip;\n}(Component);\n\nexport { Trip as default };","map":{"version":3,"sources":["/Users/trishnaamin/Lambda School/week-10/guidr-FE/guidr/src/components/GatedContent/Trip.js"],"names":["React","Component","axios","Link","GatedContentNav","Trip","updateTrip","updatedTrip","put","id","then","res","setState","trips","data","console","log","props","history","push","catch","err","deleteTrips","delete","state","activeTrip","endpoint","get","error","trip","find","match","params","setActiveTrip","e","preventDefault","deleteTrip","title","description","professional","date","duration","location"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport GatedContentNav from \"./GatedContentNav\";\n\nexport default class Trip extends Component {\n  constructor() {\n    super();\n    this.state = {\n      trips: [],\n      activeTrip: {}\n    };\n    console.log(this);\n  }\n\n  componentDidMount() {\n    const endpoint = \"https://ls-guidr.herokuapp.com/api/trips\";\n    axios\n      .get(endpoint)\n      .then(res => {\n        this.setState({ trips: res.data });\n      })\n      .catch(error => {\n        console.error(\"USERS ERROR\", error);\n      });\n  }\n\n  updateTrip = updatedTrip => {\n    axios\n      .put(\n        `https://ls-guidr.herokuapp.com/api/trips/${updatedTrip.id}`,\n        updatedTrip\n      )\n      .then(res => {\n        this.setState({ trips: res.data });\n        console.log(res);\n        // redirect\n        this.props.history.push(`/trips/${updatedTrip.id}`);\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  };\n\n  deleteTrips = id => {\n    axios\n      .delete(`https://ls-guidr.herokuapp.com/api/trips/${id}`)\n      .then(res => {\n        this.setState({ trips: res.data });\n        console.log(res);\n        // redirect\n        this.props.history.push(\"/my-trips\");\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  };\n\n  render() {\n    // console.log(\"All mah trips: \", this.state.trips);\n    this.trip = this.state.trips.find(\n      trip => `${trip.id}` === this.props.match.params.id\n    );\n    if (!this.trip) return <h3>Loading data...</h3>;\n\n    // console.log(this.trip);\n    this.setActiveTrip = trip => {\n      this.setState({ activeTrip: trip });\n    };\n\n    this.updateTrip = e => {\n      e.preventDefault();\n      this.setActiveTrip(this.trip);\n      this.props.history.push(`/edit-trip/${this.trip.id}`);\n    };\n\n    this.deleteTrip = e => {\n      e.preventDefault();\n      this.deleteTrips(this.trip);\n    };\n    return (\n      <div>\n        <div>\n          <GatedContentNav />\n        </div>\n        <h1>{this.trip.title}</h1>\n        <div>\n          <p>{this.trip.description}</p>\n          <p>\n            Trip Type:{\" \"}\n            {`${this.trip.professional === 1 ? \"Private\" : \"Professional\"}`}\n          </p>\n          <p>{this.trip.date}</p>\n          <p>{this.trip.duration}</p>\n          <p>{this.trip.location}</p>\n          <button onClick={this.updateTrip}>Update Trip</button>\n          <button onClick={this.deleteTrip}>Delete Trip</button>\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}