{"ast":null,"code":"import _objectSpread from \"/Users/trishnaamin/Lambda School/week-10/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _toConsumableArray from \"/Users/trishnaamin/Lambda School/week-10/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/trishnaamin/Lambda School/week-10/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/trishnaamin/Lambda School/week-10/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/trishnaamin/Lambda School/week-10/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/trishnaamin/Lambda School/week-10/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Users/trishnaamin/Lambda School/week-10/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/trishnaamin/Lambda School/week-10/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/trishnaamin/Lambda School/week-10/guidr-FE/guidr/src/components/GatedContent/Trips.js\";\nimport React, { Component } from \"react\";\nimport { Route } from \"react-router-dom\";\nimport axiosWithAuth from \"../utils/axiosWithAuth\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport GatedContentNav from \"./GatedContentNav\";\n\nvar Trips =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Trips, _Component);\n\n  function Trips() {\n    var _this;\n\n    _classCallCheck(this, Trips);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Trips).call(this));\n\n    _this.matchesFilter = function (filter, trip) {\n      function isTrue(value) {\n        return value === \"true\";\n      }\n\n      var matches = [];\n      Object.keys(filter).forEach(function (key) {\n        matches.push((trip[key] === filter[key]).toString());\n      });\n      return matches.every(isTrue);\n    };\n\n    _this.getFilteredTrips = function (filter) {\n      return _this.state.trips.filter(function (t) {\n        return _this.matchesFilter(filter, t);\n      });\n    };\n\n    _this.selectTabHandler = function (e, filter) {\n      // this function should take in the tab and update the state with the new tab.\n      console.log(_this.state.trips);\n      var filteredTrips = [].concat(_toConsumableArray(_this.state.trips), _toConsumableArray(_this.getFilteredTrips(filter)));\n      console.log(filteredTrips);\n\n      _this.setState(_objectSpread({}, _this.state.filter, {\n        filter: filter,\n        trips: filteredTrips\n      }));\n    };\n\n    _this.state = {\n      trips: [],\n      filter: {\n        professional: 1\n      }\n    };\n    console.log(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Trips, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var endpoint = \"https://ls-guidr.herokuapp.com/api/trips\";\n      axios.get(endpoint).then(function (res) {\n        var trips = res.data;\n\n        _this2.setState({\n          trips: trips,\n          professional: trips.map(function (trip) {\n            return trip.professional;\n          })\n        });\n      }).catch(function (error) {\n        console.error(\"USERS ERROR\", error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(GatedContentNav, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      })), React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, \"My Trips\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        onClick: function onClick(e) {\n          return _this3.selectTabHandler(e, {\n            professional: 1\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"Private\"), React.createElement(\"button\", {\n        onClick: function onClick(e) {\n          return _this3.selectTabHandler(e, {\n            professional: 0\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, \"Professional\")), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, this.state.trips.map(function (trip) {\n        return React.createElement(\"div\", {\n          key: trip.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93\n          },\n          __self: this\n        }, trip.title), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        }, trip.description), React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95\n          },\n          __self: this\n        }, trip.professional), React.createElement(Link, {\n          to: \"/trips/\".concat(trip.id),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97\n          },\n          __self: this\n        }, \"Details\")));\n      })));\n    }\n  }]);\n\n  return Trips;\n}(Component);\n\nexport default axiosWithAuth(Trips);","map":{"version":3,"sources":["/Users/trishnaamin/Lambda School/week-10/guidr-FE/guidr/src/components/GatedContent/Trips.js"],"names":["React","Component","Route","axiosWithAuth","axios","Link","GatedContentNav","Trips","matchesFilter","filter","trip","isTrue","value","matches","Object","keys","forEach","key","push","toString","every","getFilteredTrips","state","trips","t","selectTabHandler","e","console","log","filteredTrips","setState","professional","endpoint","get","then","res","data","map","catch","error","id","title","description"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { Route } from \"react-router-dom\";\nimport axiosWithAuth from \"../utils/axiosWithAuth\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport GatedContentNav from \"./GatedContentNav\";\n\nclass Trips extends Component {\n  constructor() {\n    super();\n    this.state = {\n      trips: [],\n      filter: {\n        professional: 1\n      }\n    };\n    console.log(this);\n  }\n\n  componentDidMount() {\n    const endpoint = \"https://ls-guidr.herokuapp.com/api/trips\";\n    axios\n      .get(endpoint)\n      .then(res => {\n        const trips = res.data;\n        this.setState({\n          trips,\n          professional: trips.map(trip => trip.professional)\n        });\n      })\n      .catch(error => {\n        console.error(\"USERS ERROR\", error);\n      });\n  }\n\n  matchesFilter = (filter, trip) => {\n    function isTrue(value) {\n      return value === \"true\";\n    }\n    const matches = [];\n    Object.keys(filter).forEach(key => {\n      matches.push((trip[key] === filter[key]).toString());\n    });\n    return matches.every(isTrue);\n  };\n\n  getFilteredTrips = filter => {\n    return this.state.trips.filter(t => this.matchesFilter(filter, t));\n  };\n\n  selectTabHandler = (e, filter) => {\n    // this function should take in the tab and update the state with the new tab.\n    console.log(this.state.trips);\n    const filteredTrips = [\n      ...this.state.trips,\n      ...this.getFilteredTrips(filter)\n    ];\n    console.log(filteredTrips);\n\n    this.setState({\n      ...this.state.filter,\n      filter,\n      trips: filteredTrips\n    });\n  };\n\n  render() {\n    return (\n      <div>\n        <div>\n          <GatedContentNav />\n        </div>\n        <h1>My Trips</h1>\n        <div>\n          <button\n            onClick={e => {\n              return this.selectTabHandler(e, { professional: 1 });\n            }}\n          >\n            Private\n          </button>\n          <button\n            onClick={e => {\n              return this.selectTabHandler(e, { professional: 0 });\n            }}\n          >\n            Professional\n          </button>\n        </div>\n        <div>\n          {this.state.trips.map(trip => (\n            <div key={trip.id}>\n              <p>{trip.title}</p>\n              <p>{trip.description}</p>\n              <p>{trip.professional}</p>\n              <Link to={`/trips/${trip.id}`}>\n                <p>Details</p>\n              </Link>\n            </div>\n          ))}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default axiosWithAuth(Trips);\n"]},"metadata":{},"sourceType":"module"}