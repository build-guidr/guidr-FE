{"ast":null,"code":"import _defineProperty from \"/Users/ckidd/Documents/gitgit/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/ckidd/Documents/gitgit/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/ckidd/Documents/gitgit/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/ckidd/Documents/gitgit/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/ckidd/Documents/gitgit/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/ckidd/Documents/gitgit/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/ckidd/Documents/gitgit/guidr-FE/guidr/src/components/GatedContent/UpdateProfile.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport GatedContentNav from \"./GatedContentNav\";\n\nvar EditTripForm =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(EditTripForm, _Component);\n\n  function EditTripForm() {\n    var _this;\n\n    _classCallCheck(this, EditTripForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(EditTripForm).call(this));\n\n    _this.updateUser = function (updatedUser) {\n      console.log(updatedUser);\n      axios.put(\"https://ls-guidr.herokuapp.com/api/profile/\", updatedUser).then(function (res) {\n        var user = res.data;\n\n        _this.setState({\n          user: user\n        });\n\n        console.log(\"success!\"); // redirect\n\n        _this.props.history.push(\"/profile/\");\n      }).catch(function (err) {\n        console.log(err);\n      });\n    };\n\n    _this.handleChange = function (e) {\n      e.persist();\n      console.log(e.target.value);\n\n      _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    };\n\n    _this.onSubmitEditedUser = function (e) {\n      e.preventDefault();\n\n      _this.updateUser(_this.state.user);\n    };\n\n    _this.state = {\n      user: []\n    };\n    return _this;\n  }\n\n  _createClass(EditTripForm, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var endpoint = \"https://ls-guidr.herokuapp.com/api/profile\";\n      axios.get(endpoint).then(function (result) {\n        var user = result.data[0];\n\n        _this2.setState({\n          user: user\n        });\n      }).catch(function (error) {\n        console.error(\"ERROR\", error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(GatedContentNav, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, \"Edit Trip\"), React.createElement(\"form\", {\n        className: \"form\",\n        onSubmit: this.onSubmitEditedUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        name: \"username\",\n        placeholder: \"username\",\n        onChange: this.handleChange,\n        value: this.state.user.username,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"age\",\n        placeholder: \"age\",\n        onChange: this.handleChange,\n        value: this.state.user.age,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"certs\",\n        placeholder: \"certs\",\n        onChange: this.handleChange,\n        value: this.state.user.certs,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"profile_text\",\n        placeholder: \"Brief Description\",\n        onChange: this.handleChange,\n        value: this.state.user.profile_text,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"years_of_exp\",\n        placeholder: \"Years of Experience\",\n        onChange: this.handleChange,\n        value: this.state.user.years_of_exp,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        onClick: this.updateProfile,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, \"Update Profile\"))));\n    }\n  }]);\n\n  return EditTripForm;\n}(Component);\n\nexport default EditTripForm;","map":{"version":3,"sources":["/Users/ckidd/Documents/gitgit/guidr-FE/guidr/src/components/GatedContent/UpdateProfile.js"],"names":["React","Component","axios","GatedContentNav","EditTripForm","updateUser","updatedUser","console","log","put","then","res","user","data","setState","props","history","push","catch","err","handleChange","e","persist","target","value","name","onSubmitEditedUser","preventDefault","state","endpoint","get","result","error","username","age","certs","profile_text","years_of_exp","updateProfile"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport GatedContentNav from \"./GatedContentNav\";\n\nclass EditTripForm extends Component {\n  constructor() {\n    super();\n    this.state = {\n      user: [],\n    };\n  }\n\n  componentDidMount() {\n    const endpoint = \"https://ls-guidr.herokuapp.com/api/profile\";\n    axios\n      .get(endpoint)\n      .then(result => {\n        const user = result.data[0];\n        this.setState({\n          user,\n        });\n      })\n      .catch(error => {\n        console.error(\"ERROR\", error);\n      });\n  }\n\n  updateUser = updatedUser => {\n    console.log(updatedUser);\n    axios\n      .put(\n        `https://ls-guidr.herokuapp.com/api/profile/`,\n        updatedUser\n      )\n      .then(res => {\n        const user = res.data;\n        this.setState({ \n          user\n        });\n        console.log(\"success!\");\n\n        // redirect\n        this.props.history.push(`/profile/`);\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  };\n\n  handleChange = e => {\n    e.persist();console.log(e.target.value)\n    this.setState({ \n        [e.target.name]: e.target.value \n    });\n  };\n\n  onSubmitEditedUser = e => {\n    e.preventDefault();\n    this.updateUser(this.state.user);\n  };\n\n  render() {\n    return (\n      <div>\n        <div>\n          <GatedContentNav />\n        </div>\n        <div className=\"form-container\">\n          <h2>Edit Trip</h2>\n          <form className=\"form\" onSubmit={this.onSubmitEditedUser}>\n          <input\n              name=\"username\"\n              placeholder=\"username\"\n              onChange={this.handleChange}\n              value={this.state.user.username}\n            />\n            <input\n              type=\"text\"\n              name=\"age\"\n              placeholder=\"age\"\n              onChange={this.handleChange}\n              value={this.state.user.age}\n            />\n            <input\n              type=\"text\"\n              name=\"certs\"\n              placeholder=\"certs\"\n              onChange={this.handleChange}\n              value={this.state.user.certs}\n            />\n            <input\n              type=\"text\"\n              name=\"profile_text\"\n              placeholder=\"Brief Description\"\n              onChange={this.handleChange}\n              value={this.state.user.profile_text}\n            />\n            <input\n              type=\"text\"\n              name=\"years_of_exp\"\n              placeholder=\"Years of Experience\"\n              onChange={this.handleChange}\n              value={this.state.user.years_of_exp}\n            />\n           <button onClick={this.updateProfile}>Update Profile</button>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default EditTripForm;"]},"metadata":{},"sourceType":"module"}