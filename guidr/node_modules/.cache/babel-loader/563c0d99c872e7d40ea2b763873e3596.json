{"ast":null,"code":"import _classCallCheck from \"/Users/trishnaamin/Lambda School/week-10/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/trishnaamin/Lambda School/week-10/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/trishnaamin/Lambda School/week-10/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/trishnaamin/Lambda School/week-10/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Users/trishnaamin/Lambda School/week-10/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/trishnaamin/Lambda School/week-10/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/trishnaamin/Lambda School/week-10/guidr-FE/guidr/src/components/GatedContent/Trip.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport GatedContentNav from \"./GatedContentNav\";\n\nvar Trip =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Trip, _Component);\n\n  function Trip() {\n    var _this;\n\n    _classCallCheck(this, Trip);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Trip).call(this));\n\n    _this.updateTrip = function (updatedTrip) {\n      axios.put(\"https://ls-guidr.herokuapp.com/api/trips/\".concat(updatedTrip.id), updatedTrip).then(function (res) {\n        _this.setState({\n          trips: res.data\n        });\n\n        console.log(res); // redirect\n\n        _this.props.history.push(\"/trips/\".concat(updatedTrip.id));\n      }).catch(function (err) {\n        console.log(err);\n      });\n    };\n\n    _this.deleteTrips = function (id) {\n      axios.delete(\"https://ls-guidr.herokuapp.com/api/trips/\".concat(id)).then(function (res) {\n        _this.setState({\n          trips: res.data\n        });\n\n        console.log(res); // redirect\n\n        _this.props.history.push(\"/my-trips\");\n      }).catch(function (err) {\n        console.log(err);\n      });\n    };\n\n    _this.trip = _this.state.trips.find(function (trip) {\n      return \"\".concat(trip.id) === _this.props.match.params.id;\n    });\n    _this.state = {\n      trips: [],\n      activeTrip: {}\n    };\n    console.log(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(Trip, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var endpoint = \"https://ls-guidr.herokuapp.com/api/trips\";\n      axios.get(endpoint).then(function (res) {\n        _this2.setState({\n          trips: res.data\n        });\n      }).catch(function (error) {\n        console.error(\"USERS ERROR\", error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      // console.log(\"All mah trips: \", this.state.trips);\n      if (!trip) return React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"Loading data...\"); // console.log(this.trip);\n\n      this.setActiveTrip = function (trip) {\n        _this3.setState({\n          activeTrip: trip\n        });\n      };\n\n      this.updateTrip = function (e) {\n        e.preventDefault();\n\n        _this3.setActiveTrip(trip);\n\n        _this3.props.history.push(\"/edit-trip/\".concat(trip.id));\n      };\n\n      this.deleteTrip = function (e) {\n        e.preventDefault();\n\n        _this3.deleteTrips(trip.id);\n      };\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(GatedContentNav, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      })), React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, trip.title), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, trip.description), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, \"Trip Type:\", \" \", \"\".concat(trip.professional === 1 ? \"Private\" : \"Professional\")), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, trip.date), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, trip.duration), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, trip.location), React.createElement(\"button\", {\n        onClick: this.updateTrip,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \"Update Trip\"), React.createElement(\"button\", {\n        onClick: this.deleteTrip,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, \"Delete Trip\")));\n    }\n  }]);\n\n  return Trip;\n}(Component);\n\nexport { Trip as default };","map":{"version":3,"sources":["/Users/trishnaamin/Lambda School/week-10/guidr-FE/guidr/src/components/GatedContent/Trip.js"],"names":["React","Component","axios","Link","GatedContentNav","Trip","updateTrip","updatedTrip","put","id","then","res","setState","trips","data","console","log","props","history","push","catch","err","deleteTrips","delete","trip","state","find","match","params","activeTrip","endpoint","get","error","setActiveTrip","e","preventDefault","deleteTrip","title","description","professional","date","duration","location"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport GatedContentNav from \"./GatedContentNav\";\n\nexport default class Trip extends Component {\n  constructor() {\n    super();\n    this.state = {\n      trips: [],\n      activeTrip: {}\n    };\n    console.log(this);\n  }\n\n  componentDidMount() {\n    const endpoint = \"https://ls-guidr.herokuapp.com/api/trips\";\n    axios\n      .get(endpoint)\n      .then(res => {\n        this.setState({ trips: res.data });\n      })\n      .catch(error => {\n        console.error(\"USERS ERROR\", error);\n      });\n  }\n\n  updateTrip = updatedTrip => {\n    axios\n      .put(\n        `https://ls-guidr.herokuapp.com/api/trips/${updatedTrip.id}`,\n        updatedTrip\n      )\n      .then(res => {\n        this.setState({ trips: res.data });\n        console.log(res);\n        // redirect\n        this.props.history.push(`/trips/${updatedTrip.id}`);\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  };\n\n  deleteTrips = id => {\n    axios\n      .delete(`https://ls-guidr.herokuapp.com/api/trips/${id}`)\n      .then(res => {\n        this.setState({ trips: res.data });\n        console.log(res);\n        // redirect\n        this.props.history.push(\"/my-trips\");\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  };\n\n  trip = this.state.trips.find(\n    trip => `${trip.id}` === this.props.match.params.id\n  );\n\n  render() {\n    // console.log(\"All mah trips: \", this.state.trips);\n    if (!trip) return <h3>Loading data...</h3>;\n\n    // console.log(this.trip);\n    this.setActiveTrip = trip => {\n      this.setState({ activeTrip: trip });\n    };\n\n    this.updateTrip = e => {\n      e.preventDefault();\n      this.setActiveTrip(trip);\n      this.props.history.push(`/edit-trip/${trip.id}`);\n    };\n\n    this.deleteTrip = e => {\n      e.preventDefault();\n      this.deleteTrips(trip.id);\n    };\n    return (\n      <div>\n        <div>\n          <GatedContentNav />\n        </div>\n        <h1>{trip.title}</h1>\n        <div>\n          <p>{trip.description}</p>\n          <p>\n            Trip Type:{\" \"}\n            {`${trip.professional === 1 ? \"Private\" : \"Professional\"}`}\n          </p>\n          <p>{trip.date}</p>\n          <p>{trip.duration}</p>\n          <p>{trip.location}</p>\n          <button onClick={this.updateTrip}>Update Trip</button>\n          <button onClick={this.deleteTrip}>Delete Trip</button>\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}