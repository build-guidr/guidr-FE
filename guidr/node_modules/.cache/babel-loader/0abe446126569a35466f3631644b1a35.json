{"ast":null,"code":"import _classCallCheck from \"/Users/trishnaamin/Lambda School/week-10/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/trishnaamin/Lambda School/week-10/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/trishnaamin/Lambda School/week-10/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/trishnaamin/Lambda School/week-10/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/trishnaamin/Lambda School/week-10/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/trishnaamin/Lambda School/week-10/guidr-FE/guidr/src/components/GatedContent/Trip.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport GatedContentNav from \"./GatedContentNav\";\n\nvar Trip =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Trip, _Component);\n\n  function Trip() {\n    var _this;\n\n    _classCallCheck(this, Trip);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Trip).call(this));\n\n    _this.updateTrip = function (updatedTrip) {\n      axios.put(\"https://ls-guidr.herokuapp.com/api/trips/\".concat(updatedTrip.id), updatedTrip).then(function (res) {\n        _this.setState({\n          trips: res.data\n        });\n\n        console.log(res); // redirect\n\n        _this.props.history.push(\"/trips/\".concat(updatedTrip.id));\n      }).catch(function (err) {\n        console.log(err);\n      });\n    };\n\n    _this.deleteTrips = function (id) {\n      return axios.delete(\"https://ls-guidr.herokuapp.com/api/trips/\".concat(id)).then(function (res) {\n        var trips = res.data;\n\n        _this.setState({\n          trips: trips\n        });\n\n        _this.props.history.push(\"/my-trips\"); // console.log(res);\n        // redirect\n\n      }).catch(function (err) {\n        console.log(err);\n      });\n    };\n\n    _this.setActiveTrip = function (trip) {\n      _this.setState({\n        activeTrip: trip\n      });\n    };\n\n    _this.updateTrip = function (e) {\n      e.preventDefault();\n\n      _this.setActiveTrip(_this.state.trip);\n\n      _this.props.history.push(\"/edit-trip/\".concat(_this.trip.id));\n    };\n\n    _this.deleteTrip = function (e) {\n      e.preventDefault();\n\n      _this.deleteTrips(_this.state.trip.id);\n    };\n\n    _this.state = {\n      trips: [],\n      activeTrip: {},\n      trip: {}\n    };\n    return _this;\n  }\n\n  _createClass(Trip, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var endpoint = \"https://ls-guidr.herokuapp.com/api/trips\";\n      axios.get(endpoint).then(function (res) {\n        _this2.setState({\n          trips: res.data,\n          trip: res.data.find(function (trip) {\n            return \"\".concat(trip.id) === _this2.props.match.params.id;\n          })\n        });\n      }).catch(function (error) {\n        console.error(\"USERS ERROR\", error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      // console.log(\"All mah trips: \", this.state.trips);\n      if (!this.state.trip) return React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, \"Loading data...\");\n      console.log(this.state.trip);\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(GatedContentNav, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      })), React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, this.state.trip.title), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, this.state.trip.description), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, \"Trip Type:\", \" \", \"\".concat(this.state.trip.professional === 1 ? \"Private\" : \"Professional\")), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, this.state.trip.date), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, this.state.trip.duration), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, this.state.trip.location), React.createElement(\"button\", {\n        onClick: this.updateTrip,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, \"Update Trip\"), React.createElement(\"button\", {\n        onClick: this.deleteTrip,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, \"Delete Trip\")));\n    }\n  }]);\n\n  return Trip;\n}(Component);\n\nexport { Trip as default };","map":{"version":3,"sources":["/Users/trishnaamin/Lambda School/week-10/guidr-FE/guidr/src/components/GatedContent/Trip.js"],"names":["React","Component","axios","Link","GatedContentNav","Trip","updateTrip","updatedTrip","put","id","then","res","setState","trips","data","console","log","props","history","push","catch","err","deleteTrips","delete","setActiveTrip","trip","activeTrip","e","preventDefault","state","deleteTrip","endpoint","get","find","match","params","error","title","description","professional","date","duration","location"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,eAAP,MAA4B,mBAA5B;;IAEqBC,I;;;;;AACnB,kBAAc;AAAA;;AAAA;;AACZ;;AADY,UA0BdC,UA1Bc,GA0BD,UAAAC,WAAW,EAAI;AAC1BL,MAAAA,KAAK,CACFM,GADH,oDAEgDD,WAAW,CAACE,EAF5D,GAGIF,WAHJ,EAKGG,IALH,CAKQ,UAAAC,GAAG,EAAI;AACX,cAAKC,QAAL,CAAc;AAAEC,UAAAA,KAAK,EAAEF,GAAG,CAACG;AAAb,SAAd;;AACAC,QAAAA,OAAO,CAACC,GAAR,CAAYL,GAAZ,EAFW,CAGX;;AACA,cAAKM,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,kBAAkCZ,WAAW,CAACE,EAA9C;AACD,OAVH,EAWGW,KAXH,CAWS,UAAAC,GAAG,EAAI;AACZN,QAAAA,OAAO,CAACC,GAAR,CAAYK,GAAZ;AACD,OAbH;AAcD,KAzCa;;AAAA,UA2CdC,WA3Cc,GA2CA,UAAAb,EAAE,EAAI;AAClB,aAAOP,KAAK,CACTqB,MADI,oDAC+Cd,EAD/C,GAEJC,IAFI,CAEC,UAAAC,GAAG,EAAI;AACX,YAAME,KAAK,GAAGF,GAAG,CAACG,IAAlB;;AACA,cAAKF,QAAL,CAAc;AAAEC,UAAAA,KAAK,EAALA;AAAF,SAAd;;AACA,cAAKI,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwB,WAAxB,EAHW,CAIX;AACA;;AACD,OARI,EASJC,KATI,CASE,UAAAC,GAAG,EAAI;AACZN,QAAAA,OAAO,CAACC,GAAR,CAAYK,GAAZ;AACD,OAXI,CAAP;AAYD,KAxDa;;AAAA,UA0DdG,aA1Dc,GA0DE,UAAAC,IAAI,EAAI;AACtB,YAAKb,QAAL,CAAc;AAAEc,QAAAA,UAAU,EAAED;AAAd,OAAd;AACD,KA5Da;;AAAA,UA8DdnB,UA9Dc,GA8DD,UAAAqB,CAAC,EAAI;AAChBA,MAAAA,CAAC,CAACC,cAAF;;AACA,YAAKJ,aAAL,CAAmB,MAAKK,KAAL,CAAWJ,IAA9B;;AACA,YAAKR,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,sBAAsC,MAAKM,IAAL,CAAUhB,EAAhD;AACD,KAlEa;;AAAA,UAoEdqB,UApEc,GAoED,UAAAH,CAAC,EAAI;AAChBA,MAAAA,CAAC,CAACC,cAAF;;AACA,YAAKN,WAAL,CAAiB,MAAKO,KAAL,CAAWJ,IAAX,CAAgBhB,EAAjC;AACD,KAvEa;;AAEZ,UAAKoB,KAAL,GAAa;AACXhB,MAAAA,KAAK,EAAE,EADI;AAEXa,MAAAA,UAAU,EAAE,EAFD;AAGXD,MAAAA,IAAI,EAAE;AAHK,KAAb;AAFY;AAOb;;;;wCAEmB;AAAA;;AAClB,UAAMM,QAAQ,GAAG,0CAAjB;AACA7B,MAAAA,KAAK,CACF8B,GADH,CACOD,QADP,EAEGrB,IAFH,CAEQ,UAAAC,GAAG,EAAI;AACX,QAAA,MAAI,CAACC,QAAL,CAAc;AACZC,UAAAA,KAAK,EAAEF,GAAG,CAACG,IADC;AAEZW,UAAAA,IAAI,EAAEd,GAAG,CAACG,IAAJ,CAASmB,IAAT,CACJ,UAAAR,IAAI;AAAA,mBAAI,UAAGA,IAAI,CAAChB,EAAR,MAAiB,MAAI,CAACQ,KAAL,CAAWiB,KAAX,CAAiBC,MAAjB,CAAwB1B,EAA7C;AAAA,WADA;AAFM,SAAd;AAMD,OATH,EAUGW,KAVH,CAUS,UAAAgB,KAAK,EAAI;AACdrB,QAAAA,OAAO,CAACqB,KAAR,CAAc,aAAd,EAA6BA,KAA7B;AACD,OAZH;AAaD;;;6BAiDQ;AACP;AACA,UAAI,CAAC,KAAKP,KAAL,CAAWJ,IAAhB,EAAsB,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAP;AAEtBV,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKa,KAAL,CAAWJ,IAAvB;AACA,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,EAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAK,KAAKI,KAAL,CAAWJ,IAAX,CAAgBY,KAArB,CAJF,EAKE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAI,KAAKR,KAAL,CAAWJ,IAAX,CAAgBa,WAApB,CADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACa,GADb,YAGI,KAAKT,KAAL,CAAWJ,IAAX,CAAgBc,YAAhB,KAAiC,CAAjC,GAAqC,SAArC,GAAiD,cAHrD,EAFF,EAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAI,KAAKV,KAAL,CAAWJ,IAAX,CAAgBe,IAApB,CARF,EASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAI,KAAKX,KAAL,CAAWJ,IAAX,CAAgBgB,QAApB,CATF,EAUE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAI,KAAKZ,KAAL,CAAWJ,IAAX,CAAgBiB,QAApB,CAVF,EAWE;AAAQ,QAAA,OAAO,EAAE,KAAKpC,UAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAXF,EAYE;AAAQ,QAAA,OAAO,EAAE,KAAKwB,UAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAZF,CALF,CADF;AAsBD;;;;EArG+B7B,S;;SAAbI,I","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { Link } from \"react-router-dom\";\nimport GatedContentNav from \"./GatedContentNav\";\n\nexport default class Trip extends Component {\n  constructor() {\n    super();\n    this.state = {\n      trips: [],\n      activeTrip: {},\n      trip: {}\n    };\n  }\n\n  componentDidMount() {\n    const endpoint = \"https://ls-guidr.herokuapp.com/api/trips\";\n    axios\n      .get(endpoint)\n      .then(res => {\n        this.setState({\n          trips: res.data,\n          trip: res.data.find(\n            trip => `${trip.id}` === this.props.match.params.id\n          )\n        });\n      })\n      .catch(error => {\n        console.error(\"USERS ERROR\", error);\n      });\n  }\n\n  updateTrip = updatedTrip => {\n    axios\n      .put(\n        `https://ls-guidr.herokuapp.com/api/trips/${updatedTrip.id}`,\n        updatedTrip\n      )\n      .then(res => {\n        this.setState({ trips: res.data });\n        console.log(res);\n        // redirect\n        this.props.history.push(`/trips/${updatedTrip.id}`);\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  };\n\n  deleteTrips = id => {\n    return axios\n      .delete(`https://ls-guidr.herokuapp.com/api/trips/${id}`)\n      .then(res => {\n        const trips = res.data;\n        this.setState({ trips });\n        this.props.history.push(\"/my-trips\");\n        // console.log(res);\n        // redirect\n      })\n      .catch(err => {\n        console.log(err);\n      });\n  };\n\n  setActiveTrip = trip => {\n    this.setState({ activeTrip: trip });\n  };\n\n  updateTrip = e => {\n    e.preventDefault();\n    this.setActiveTrip(this.state.trip);\n    this.props.history.push(`/edit-trip/${this.trip.id}`);\n  };\n\n  deleteTrip = e => {\n    e.preventDefault();\n    this.deleteTrips(this.state.trip.id);\n  };\n\n  render() {\n    // console.log(\"All mah trips: \", this.state.trips);\n    if (!this.state.trip) return <h3>Loading data...</h3>;\n\n    console.log(this.state.trip);\n    return (\n      <div>\n        <div>\n          <GatedContentNav />\n        </div>\n        <h1>{this.state.trip.title}</h1>\n        <div>\n          <p>{this.state.trip.description}</p>\n          <p>\n            Trip Type:{\" \"}\n            {`${\n              this.state.trip.professional === 1 ? \"Private\" : \"Professional\"\n            }`}\n          </p>\n          <p>{this.state.trip.date}</p>\n          <p>{this.state.trip.duration}</p>\n          <p>{this.state.trip.location}</p>\n          <button onClick={this.updateTrip}>Update Trip</button>\n          <button onClick={this.deleteTrip}>Delete Trip</button>\n        </div>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}