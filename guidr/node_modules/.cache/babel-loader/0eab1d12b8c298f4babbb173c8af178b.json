{"ast":null,"code":"import _toConsumableArray from \"/Users/ckidd/Documents/gitgit/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"/Users/ckidd/Documents/gitgit/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/Users/ckidd/Documents/gitgit/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/ckidd/Documents/gitgit/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/ckidd/Documents/gitgit/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/ckidd/Documents/gitgit/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/ckidd/Documents/gitgit/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/ckidd/Documents/gitgit/guidr-FE/guidr/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/ckidd/Documents/gitgit/guidr-FE/guidr/src/components/GatedContent/AddProfile.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport GatedContentNav from \"./GatedContentNav\";\n\nvar AddProfile =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(AddProfile, _Component);\n\n  function AddProfile() {\n    var _this;\n\n    _classCallCheck(this, AddProfile);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddProfile).call(this));\n\n    _this.AddProfile = function (newProfile) {\n      axios.post(\"https://ls-guidr.herokuapp.com/api/profile\", newProfile).then(function (result) {\n        console.log(\"Users\", result.data);\n\n        _this.setState({\n          user: result.data\n        }); // redirect\n\n\n        _this.props.history.push(\"/my-portfolio\");\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    _this.handleChange = function (event) {\n      event.persist();\n\n      _this.setState({\n        user: _objectSpread({}, _this.state.user, _defineProperty({}, event.target.name, event.target.value))\n      });\n    };\n\n    _this.onSubmitAddUser = function (event) {\n      event.preventDefault();\n      var user_id = _this.state.user_id;\n\n      var user = _objectSpread({}, _this.state.user, {\n        user_id: user_id\n      });\n\n      _this.addProfile(user);\n\n      _this.setState({\n        user: [].concat(_toConsumableArray(_this.state.user), [user])\n      });\n    };\n\n    _this.state = _defineProperty({\n      user: []\n    }, \"user\", {\n      \"id\": \"\",\n      \"user_id\": \"\",\n      \"age\": \"\",\n      \"certs\": \"\",\n      \"profile_text\": \"\",\n      \"years_of_exp\": \"\"\n    });\n    componentDidMount();\n    axios.get(\"https://ls-guidr.herokuapp.com/api/profile\").then(function (result) {\n      _this.setState({\n        user: result.data,\n        user_id: result.data[0].user_id\n      });\n    }).catch(function (error) {\n      console.error(\"ERROR\", error);\n    });\n    return _this;\n  }\n\n  _createClass(AddProfile, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(GatedContentNav, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, \"Add Profile\"), React.createElement(\"form\", {\n        className: \"form\",\n        onSubmit: this.onSubmitAddUser,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        name: \"username\",\n        placeholder: \"username\",\n        onChange: this.handleChange,\n        value: this.state.user.username,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"age\",\n        placeholder: \"age\",\n        onChange: this.handleChange,\n        value: this.state.user.age,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"certs\",\n        placeholder: \"certs\",\n        onChange: this.handleChange,\n        value: this.state.user.certs,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"profile_text\",\n        placeholder: \"Brief Description\",\n        onChange: this.handleChange,\n        value: this.state.user.profile_text,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        type: \"text\",\n        name: \"years_of_exp\",\n        placeholder: \"Years of Experience\",\n        onChange: this.handleChange,\n        value: this.state.user.years_of_exp,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, \"Update\"))));\n    }\n  }]);\n\n  return AddProfile;\n}(Component);\n\nexport default AddProfile;","map":{"version":3,"sources":["/Users/ckidd/Documents/gitgit/guidr-FE/guidr/src/components/GatedContent/AddProfile.js"],"names":["React","Component","axios","GatedContentNav","AddProfile","newProfile","post","then","result","console","log","data","setState","user","props","history","push","catch","error","handleChange","event","persist","state","target","name","value","onSubmitAddUser","preventDefault","user_id","addProfile","componentDidMount","get","username","age","certs","profile_text","years_of_exp"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport GatedContentNav from \"./GatedContentNav\";\n\nclass AddProfile extends Component {\n  constructor() {\n    super();\n    this.state = {\n      user: [],\n      user: {\n        \"id\": \"\",\n        \"user_id\": \"\",\n        \"age\": \"\",\n        \"certs\": \"\",\n        \"profile_text\": \"\",\n        \"years_of_exp\": \"\"\n    }\n  }\n\n  componentDidMount() \n    axios.get(\"https://ls-guidr.herokuapp.com/api/profile\")\n      .then(result => {this.setState({\n          user: result.data,\n          user_id: result.data[0].user_id\n        });\n      })\n      .catch(error => {\n        console.error(\"ERROR\", error);\n      });\n  }\n\n  AddProfile = newProfile => {\n    axios\n      .post(\"https://ls-guidr.herokuapp.com/api/profile\", newProfile)\n      .then(result => {\n        console.log(\"Users\", result.data);\n        this.setState({\n          user: result.data\n        });\n        // redirect\n        this.props.history.push(\"/my-portfolio\");\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  };\n\n  handleChange = event => {\n    event.persist();\n    this.setState({\n      user: {\n        ...this.state.user,\n        [event.target.name]: event.target.value\n      }\n    });\n  };\n\n  onSubmitAddUser = event => {\n    event.preventDefault();\n    const { user_id } = this.state;\n    const user = {\n      ...this.state.user,\n      user_id,\n    };\n    this.addProfile(user);\n    this.setState({user: [...this.state.user, user]\n    });\n  };\n\n  render() {\n    return (\n      <div>\n        <div>\n          <GatedContentNav />\n        </div>\n        <div className=\"form-container\">\n          <h2>Add Profile</h2>\n          <form className=\"form\" onSubmit={this.onSubmitAddUser}>\n            <input\n              name=\"username\"\n              placeholder=\"username\"\n              onChange={this.handleChange}\n              value={this.state.user.username}\n            />\n            <input\n              type=\"text\"\n              name=\"age\"\n              placeholder=\"age\"\n              onChange={this.handleChange}\n              value={this.state.user.age}\n            />\n            <input\n              type=\"text\"\n              name=\"certs\"\n              placeholder=\"certs\"\n              onChange={this.handleChange}\n              value={this.state.user.certs}\n            />\n            <input\n              type=\"text\"\n              name=\"profile_text\"\n              placeholder=\"Brief Description\"\n              onChange={this.handleChange}\n              value={this.state.user.profile_text}\n            />\n            <input\n              type=\"text\"\n              name=\"years_of_exp\"\n              placeholder=\"Years of Experience\"\n              onChange={this.handleChange}\n              value={this.state.user.years_of_exp}\n            />\n            <button>Update</button>\n          </form>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default AddProfile;"]},"metadata":{},"sourceType":"module"}